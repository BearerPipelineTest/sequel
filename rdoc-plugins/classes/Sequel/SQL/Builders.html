<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
<head>
<title>Sequel::SQL::Builders</title>
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'>
<link href='../../../css/style.css' media='screen' rel='stylesheet' type='text/css'>
<script type='text/javascript'>
  function popupCode(url) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  
  function toggleCode(id) {
    var code = document.getElementById(id)
  
    code.style.display = code.style.display != 'block' ? 'block' : 'none'
    return true
  }
  
  // Make codeblocks hidden by default
  document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
</script>
</head>
<body class='page'>
<div class='class' id='wrapper'>
<div class='header'>
<h1 class='name'><span class='type'>module</span>
Sequel::SQL::Builders
</h1>
<ol class='paths'>
<li>
<a href="../../../files/lib/sequel/extensions/date_arithmetic_rb.html">lib/sequel/extensions/date_arithmetic.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_array_rb.html">lib/sequel/extensions/pg_array.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_array_ops_rb.html">lib/sequel/extensions/pg_array_ops.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_hstore_rb.html">lib/sequel/extensions/pg_hstore.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_hstore_ops_rb.html">lib/sequel/extensions/pg_hstore_ops.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_inet_ops_rb.html">lib/sequel/extensions/pg_inet_ops.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_json_rb.html">lib/sequel/extensions/pg_json.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_json_ops_rb.html">lib/sequel/extensions/pg_json_ops.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_range_rb.html">lib/sequel/extensions/pg_range.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_range_ops_rb.html">lib/sequel/extensions/pg_range_ops.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_row_rb.html">lib/sequel/extensions/pg_row.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/pg_row_ops_rb.html">lib/sequel/extensions/pg_row_ops.rb</a>
</li>
<li class='other'>
<a href="../../../files/lib/sequel/extensions/string_agg_rb.html">lib/sequel/extensions/string_agg.rb</a>
</li>
<li>
<a class='show' href='#' onclick='this.parentNode.parentNode.className += &quot; expanded&quot;; this.parentNode.removeChild(this); return false'>show all</a>
</li>
</ol>
</div>
<div id='content'>
<div id='text'>
<div id='description'></div>
<div id='method-list'>
<h2>Methods</h2>
<h3>Public Instance</h3>
<ol>
<li><a href="#method-i-date_add">date_add</a></li>
<li><a href="#method-i-date_sub">date_sub</a></li>
<li><a href="#method-i-hstore">hstore</a></li>
<li><a href="#method-i-hstore_op">hstore_op</a></li>
<li><a href="#method-i-pg_array">pg_array</a></li>
<li><a href="#method-i-pg_array_op">pg_array_op</a></li>
<li><a href="#method-i-pg_inet_op">pg_inet_op</a></li>
<li><a href="#method-i-pg_json">pg_json</a></li>
<li><a href="#method-i-pg_json_op">pg_json_op</a></li>
<li><a href="#method-i-pg_json_wrap">pg_json_wrap</a></li>
<li><a href="#method-i-pg_jsonb">pg_jsonb</a></li>
<li><a href="#method-i-pg_jsonb_op">pg_jsonb_op</a></li>
<li><a href="#method-i-pg_jsonb_wrap">pg_jsonb_wrap</a></li>
<li><a href="#method-i-pg_range">pg_range</a></li>
<li><a href="#method-i-pg_range_op">pg_range_op</a></li>
<li><a href="#method-i-pg_row">pg_row</a></li>
<li><a href="#method-i-pg_row_op">pg_row_op</a></li>
<li><a href="#method-i-string_agg">string_agg</a></li>
</ol>
</div>
<div id='context'>
</div>
<div id='section'>
<div id='methods'>
<h2>Public Instance methods</h2>
<div class='method public-instance' id='method-method-i-date_add'>
<a name='method-i-date_add'></a>
<div class='synopsis'>
<span class='name'>date_add</span><span class='arguments'>(expr, interval, opts=OPTS)</span>

</div>
<div class='description'>

<p>Return a <a href="DateAdd.html"><code>DateAdd</code></a> expression, adding an interval to the date/timestamp expr. Options:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>:cast </td><td>
<p>Cast to the specified type instead of the default if casting</p>
</td></tr></tbody></table>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-date_add-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-date_add-source'>   <span class="ruby-comment"># File lib/sequel/extensions/date_arithmetic.rb</span>&#x000A;<span class="line-num">43</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">date_add</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-identifier">interval</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;<span class="line-num">44</span>   <span class="ruby-constant">DateAdd</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-identifier">interval</span>, <span class="ruby-identifier">opts</span>)&#x000A;<span class="line-num">45</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-date_sub'>
<a name='method-i-date_sub'></a>
<div class='synopsis'>
<span class='name'>date_sub</span><span class='arguments'>(expr, interval, opts=OPTS)</span>

</div>
<div class='description'>

<p>Return a <a href="DateAdd.html"><code>DateAdd</code></a> expression, adding the negative of the interval to the date/timestamp expr. Options:</p>
<table class="rdoc-list note-list"><tbody><tr><td class='label'>:cast </td><td>
<p>Cast to the specified type instead of the default if casting</p>
</td></tr></tbody></table>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-date_sub-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-date_sub-source'>   <span class="ruby-comment"># File lib/sequel/extensions/date_arithmetic.rb</span>&#x000A;<span class="line-num">51</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">date_sub</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-identifier">interval</span>, <span class="ruby-identifier">opts</span>=<span class="ruby-constant">OPTS</span>)&#x000A;<span class="line-num">52</span>   <span class="ruby-identifier">interval</span> = <span class="ruby-keyword">if</span> <span class="ruby-identifier">interval</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;<span class="line-num">53</span>     <span class="ruby-identifier">h</span> = {}&#x000A;<span class="line-num">54</span>     <span class="ruby-identifier">interval</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-operator">-</span><span class="ruby-identifier">v</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">nil?</span>}&#x000A;<span class="line-num">55</span>     <span class="ruby-identifier">h</span>&#x000A;<span class="line-num">56</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">57</span>     <span class="ruby-operator">-</span><span class="ruby-identifier">interval</span>&#x000A;<span class="line-num">58</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">59</span>   <span class="ruby-constant">DateAdd</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr</span>, <span class="ruby-identifier">interval</span>, <span class="ruby-identifier">opts</span>)&#x000A;<span class="line-num">60</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-hstore'>
<a name='method-i-hstore'></a>
<div class='synopsis'>
<span class='name'>hstore</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return a <a href="../Postgres/HStore.html"><code>Postgres::HStore</code></a> proxy for the given hash.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-hstore-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-hstore-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_hstore.rb</span>&#x000A;<span class="line-num">308</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hstore</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">309</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">310</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">HStore</span>&#x000A;<span class="line-num">311</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">312</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>&#x000A;<span class="line-num">313</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">HStore</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">314</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">315</span>     <span class="ruby-comment"># May not be defined unless the pg_hstore_ops extension is used</span>&#x000A;<span class="line-num">316</span>     <span class="ruby-identifier">hstore_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">317</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">318</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-hstore_op'>
<a name='method-i-hstore_op'></a>
<div class='synopsis'>
<span class='name'>hstore_op</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return the object wrapped in an <a href="../Postgres/HStoreOp.html"><code>Postgres::HStoreOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-hstore_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-hstore_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_hstore_ops.rb</span>&#x000A;<span class="line-num">328</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">hstore_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">329</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">330</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">HStoreOp</span>&#x000A;<span class="line-num">331</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">332</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">333</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">HStoreOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">334</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">335</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_array'>
<a name='method-i-pg_array'></a>
<div class='synopsis'>
<span class='name'>pg_array</span><span class='arguments'>(v, array_type=nil)</span>

</div>
<div class='description'>

<p>Return a <a href="../Postgres/PGArray.html"><code>Postgres::PGArray</code></a> proxy for the given array and database array type.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_array-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_array-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_array.rb</span>&#x000A;<span class="line-num">484</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_array</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">array_type</span>=<span class="ruby-keyword">nil</span>)&#x000A;<span class="line-num">485</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">486</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGArray</span>&#x000A;<span class="line-num">487</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">array_type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">array_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">array_type</span>&#x000A;<span class="line-num">488</span>       <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">489</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">490</span>       <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_a</span>, <span class="ruby-identifier">array_type</span>)&#x000A;<span class="line-num">491</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">492</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>&#x000A;<span class="line-num">493</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">array_type</span>)&#x000A;<span class="line-num">494</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">495</span>     <span class="ruby-comment"># May not be defined unless the pg_array_ops extension is used</span>&#x000A;<span class="line-num">496</span>     <span class="ruby-identifier">pg_array_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">497</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">498</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_array_op'>
<a name='method-i-pg_array_op'></a>
<div class='synopsis'>
<span class='name'>pg_array_op</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return the object wrapped in an <a href="../Postgres/ArrayOp.html"><code>Postgres::ArrayOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_array_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_array_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_array_ops.rb</span>&#x000A;<span class="line-num">299</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_array_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">300</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">301</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">ArrayOp</span>&#x000A;<span class="line-num">302</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">303</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">304</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">ArrayOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">305</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">306</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_inet_op'>
<a name='method-i-pg_inet_op'></a>
<div class='synopsis'>
<span class='name'>pg_inet_op</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return the expression wrapped in the <a href="../Postgres/InetOp.html"><code>Postgres::InetOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_inet_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_inet_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_inet_ops.rb</span>&#x000A;<span class="line-num">171</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_inet_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">172</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">173</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">InetOp</span>&#x000A;<span class="line-num">174</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">175</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">176</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">InetOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">177</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">178</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_json'>
<a name='method-i-pg_json'></a>
<div class='synopsis'>
<span class='name'>pg_json</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Wrap the array or hash in a <a href="../Postgres/JSONArray.html"><code>Postgres::JSONArray</code></a> or <a href="../Postgres/JSONHash.html"><code>Postgres::JSONHash</code></a>. Also handles <a href="../Postgres/JSONObject.html"><code>Postgres::JSONObject</code></a> and JSONBObjects. For other objects, calls <code>Sequel.pg_json_op</code> (which is defined by the pg_json_ops extension).</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_json-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_json-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json.rb</span>&#x000A;<span class="line-num">524</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_json</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">525</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">526</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONObject</span>&#x000A;<span class="line-num">527</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">528</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>&#x000A;<span class="line-num">529</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">530</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>&#x000A;<span class="line-num">531</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONHash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">532</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBObject</span>&#x000A;<span class="line-num">533</span>     <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">__getobj__</span>&#x000A;<span class="line-num">534</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONDatabaseMethods</span>.<span class="ruby-identifier">json_primitive_wrapper</span>(<span class="ruby-identifier">v</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">535</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">536</span>     <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">pg_json_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">537</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">538</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_json_op'>
<a name='method-i-pg_json_op'></a>
<div class='synopsis'>
<span class='name'>pg_json_op</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return the object wrapped in an <a href="../Postgres/JSONOp.html"><code>Postgres::JSONOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_json_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_json_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>&#x000A;<span class="line-num">594</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_json_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">595</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">596</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONOp</span>&#x000A;<span class="line-num">597</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">598</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">599</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">600</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">601</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_json_wrap'>
<a name='method-i-pg_json_wrap'></a>
<div class='synopsis'>
<span class='name'>pg_json_wrap</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Wraps Ruby array, hash, string, integer, float, true, false, and nil values with the appropriate JSON wrapper.  Raises an exception for other types.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_json_wrap-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_json_wrap-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json.rb</span>&#x000A;<span class="line-num">543</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_json_wrap</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">544</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">545</span>   <span class="ruby-keyword">when</span> <span class="ruby-operator">*</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSON_WRAP_CLASSES</span>&#x000A;<span class="line-num">546</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONDatabaseMethods</span>.<span class="ruby-identifier">json_primitive_wrapper</span>(<span class="ruby-identifier">v</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">547</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">548</span>     <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;invalid value passed to Sequel.pg_json_wrap: #{v.inspect}&quot;</span>&#x000A;<span class="line-num">549</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">550</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_jsonb'>
<a name='method-i-pg_jsonb'></a>
<div class='synopsis'>
<span class='name'>pg_jsonb</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Wrap the array or hash in a <a href="../Postgres/JSONBArray.html"><code>Postgres::JSONBArray</code></a> or <a href="../Postgres/JSONBHash.html"><code>Postgres::JSONBHash</code></a>. Also handles <a href="../Postgres/JSONObject.html"><code>Postgres::JSONObject</code></a> and JSONBObjects. For other objects, calls <code>Sequel.pg_json_op</code> (which is defined by the pg_json_ops extension).</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_jsonb-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_jsonb-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json.rb</span>&#x000A;<span class="line-num">556</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_jsonb</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">557</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">558</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBObject</span>&#x000A;<span class="line-num">559</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">560</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>&#x000A;<span class="line-num">561</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBArray</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">562</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>&#x000A;<span class="line-num">563</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBHash</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">564</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONObject</span>&#x000A;<span class="line-num">565</span>     <span class="ruby-identifier">v</span> = <span class="ruby-identifier">v</span>.<span class="ruby-identifier">__getobj__</span>&#x000A;<span class="line-num">566</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONDatabaseMethods</span>.<span class="ruby-identifier">jsonb_primitive_wrapper</span>(<span class="ruby-identifier">v</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">567</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">568</span>     <span class="ruby-constant">Sequel</span>.<span class="ruby-identifier">pg_jsonb_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">569</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">570</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_jsonb_op'>
<a name='method-i-pg_jsonb_op'></a>
<div class='synopsis'>
<span class='name'>pg_jsonb_op</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return the object wrapped in an <a href="../Postgres/JSONBOp.html"><code>Postgres::JSONBOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_jsonb_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_jsonb_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json_ops.rb</span>&#x000A;<span class="line-num">604</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_jsonb_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">605</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">606</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBOp</span>&#x000A;<span class="line-num">607</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">608</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">609</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONBOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">610</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">611</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_jsonb_wrap'>
<a name='method-i-pg_jsonb_wrap'></a>
<div class='synopsis'>
<span class='name'>pg_jsonb_wrap</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Wraps Ruby array, hash, string, integer, float, true, false, and nil values with the appropriate JSONB wrapper.  Raises an exception for other types.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_jsonb_wrap-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_jsonb_wrap-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_json.rb</span>&#x000A;<span class="line-num">575</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_jsonb_wrap</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">576</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">577</span>   <span class="ruby-keyword">when</span> <span class="ruby-operator">*</span><span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSON_WRAP_CLASSES</span>&#x000A;<span class="line-num">578</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">JSONDatabaseMethods</span>.<span class="ruby-identifier">jsonb_primitive_wrapper</span>(<span class="ruby-identifier">v</span>).<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">579</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">580</span>     <span class="ruby-identifier">raise</span> <span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;invalid value passed to Sequel.pg_jsonb_wrap: #{v.inspect}&quot;</span>&#x000A;<span class="line-num">581</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">582</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_range'>
<a name='method-i-pg_range'></a>
<div class='synopsis'>
<span class='name'>pg_range</span><span class='arguments'>(v, db_type=nil)</span>

</div>
<div class='description'>

<p>Convert the object to a <a href="../Postgres/PGRange.html"><code>Postgres::PGRange</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_range-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_range-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_range.rb</span>&#x000A;<span class="line-num">537</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_range</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">db_type</span>=<span class="ruby-keyword">nil</span>)&#x000A;<span class="line-num">538</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">539</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRange</span>&#x000A;<span class="line-num">540</span>     <span class="ruby-keyword">if</span> <span class="ruby-identifier">db_type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">db_type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">db_type</span>&#x000A;<span class="line-num">541</span>       <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">542</span>     <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">543</span>       <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRange</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>.<span class="ruby-identifier">begin</span>, <span class="ruby-identifier">v</span>.<span class="ruby-identifier">end</span>, <span class="ruby-value">:exclude_begin</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">v</span>.<span class="ruby-identifier">exclude_begin?</span>, <span class="ruby-value">:exclude_end</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">v</span>.<span class="ruby-identifier">exclude_end?</span>, <span class="ruby-value">:db_type</span><span class="ruby-operator">=&gt;</span><span class="ruby-identifier">db_type</span>)&#x000A;<span class="line-num">544</span>     <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">545</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Range</span>&#x000A;<span class="line-num">546</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRange</span>.<span class="ruby-identifier">from_range</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">db_type</span>)&#x000A;<span class="line-num">547</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">548</span>     <span class="ruby-comment"># May not be defined unless the pg_range_ops extension is used</span>&#x000A;<span class="line-num">549</span>     <span class="ruby-identifier">pg_range_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">550</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">551</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_range_op'>
<a name='method-i-pg_range_op'></a>
<div class='synopsis'>
<span class='name'>pg_range_op</span><span class='arguments'>(v)</span>

</div>
<div class='description'>

<p>Return the expression wrapped in the <a href="../Postgres/RangeOp.html"><code>Postgres::RangeOp</code></a>.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_range_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_range_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_range_ops.rb</span>&#x000A;<span class="line-num">132</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_range_op</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">133</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">134</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">RangeOp</span>&#x000A;<span class="line-num">135</span>     <span class="ruby-identifier">v</span>&#x000A;<span class="line-num">136</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">137</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">RangeOp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">v</span>)&#x000A;<span class="line-num">138</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">139</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_row'>
<a name='method-i-pg_row'></a>
<div class='synopsis'>
<span class='name'>pg_row</span><span class='arguments'>(expr)</span>

</div>
<div class='description'>

<p>Wraps the expr array in an anonymous <a href="../Postgres/PGRow/ArrayRow.html"><code>Postgres::PGRow::ArrayRow</code></a> instance.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_row-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_row-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_row.rb</span>&#x000A;<span class="line-num">549</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_row</span>(<span class="ruby-identifier">expr</span>)&#x000A;<span class="line-num">550</span>   <span class="ruby-keyword">case</span> <span class="ruby-identifier">expr</span>&#x000A;<span class="line-num">551</span>   <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>&#x000A;<span class="line-num">552</span>     <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRow</span><span class="ruby-operator">::</span><span class="ruby-constant">ArrayRow</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">expr</span>)&#x000A;<span class="line-num">553</span>   <span class="ruby-keyword">else</span>&#x000A;<span class="line-num">554</span>     <span class="ruby-comment"># Will only work if pg_row_ops extension is loaded</span>&#x000A;<span class="line-num">555</span>     <span class="ruby-identifier">pg_row_op</span>(<span class="ruby-identifier">expr</span>)&#x000A;<span class="line-num">556</span>   <span class="ruby-keyword">end</span>&#x000A;<span class="line-num">557</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-pg_row_op'>
<a name='method-i-pg_row_op'></a>
<div class='synopsis'>
<span class='name'>pg_row_op</span><span class='arguments'>(expr)</span>

</div>
<div class='description'>

<p>Return a PGRowOp wrapping the given expression.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-pg_row_op-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-pg_row_op-source'>    <span class="ruby-comment"># File lib/sequel/extensions/pg_row_ops.rb</span>&#x000A;<span class="line-num">165</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pg_row_op</span>(<span class="ruby-identifier">expr</span>)&#x000A;<span class="line-num">166</span>   <span class="ruby-constant">Postgres</span><span class="ruby-operator">::</span><span class="ruby-constant">PGRowOp</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">expr</span>)&#x000A;<span class="line-num">167</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
<div class='method public-instance' id='method-method-i-string_agg'>
<a name='method-i-string_agg'></a>
<div class='synopsis'>
<span class='name'>string_agg</span><span class='arguments'>(*a)</span>

</div>
<div class='description'>

<p>Return a <a href="StringAgg.html"><code>StringAgg</code></a> expression for an aggregate string concatentation.</p>

</div>
<div class='source'>
<a class='source-toggle' href='#' onclick='toggleCode(&#39;method-i-string_agg-source&#39;); return false'>
[show source]
</a>
<pre id='method-i-string_agg-source'>   <span class="ruby-comment"># File lib/sequel/extensions/string_agg.rb</span>&#x000A;<span class="line-num">65</span> <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">string_agg</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>)&#x000A;<span class="line-num">66</span>   <span class="ruby-constant">StringAgg</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>)&#x000A;<span class="line-num">67</span> <span class="ruby-keyword">end</span></pre>
</div>
</div>
</div>
</div>

</div>
</div>

<div id='footer-push'></div>
</div>
<div id='footer'>
<a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
</div>
</body>
</html>
